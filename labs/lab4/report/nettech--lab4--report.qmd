---
## Author
author:
  name: Мурашов Иван Вячеславович
  email: 1132236018@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе №4"
subtitle: "Сетевые технологии"
license: "CC BY"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
---

# Цель работы

Цель данной работы — установка и настройка GNS3 и сопутствующего программного обеспечения.

# Задание

1. Установить GNS3-all-in-one, GNS3 VM, проверить корректность запуска.
2. Импортировать в GNS3 образ маршрутизатора FRR.
3. Импортировать в GNS3 образ маршрутизатора VyOS.

# Выполнение лабораторной работы

## Установка GNS3-all-in-one

Устанавливаю GNS3 с помощью команды `choco install gns3 -y` ([рис. @fig-001]).

![Установка ПО](image/1.png){#fig-001 width=70%}

После запуска графического окна по установке следую указаниям, нажимая Next , принимая соглашение по лицензии, выбирая отображение названия каталога в стартовом меню (можно оставить выдаваемое по умолчанию).
В процессе установки при выборе комплектации отмечаю MSVC Runtime (отмечено по умолчанию), GNS3-Desktop, GNS3-VM, Tools. Затем указываю расположение устанавливаемого пакета (можно оставить выдаваемое по умолчанию). В следующем окне отмечаю тот тип виртуальной машины, через которую в дальнейшем вы будете работать с GNS3. Указываю VirtualBox, затем нажимаю Install. ([рис. @fig-002]).

![Установка ПО](image/2.png){#fig-002 width=70%}

## Установка GNS3 VM для VirtualBox

Загружаю версию виртуальной машины GNS3 VM для VirtualBox, распаковываю архив, перехожу в VirtualBox и делаю импорт конфигурации ([рис. @fig-003]).

![Импорт конфигурации VirtualBox](image/3.png){#fig-003 width=70%}

В следующем окне в параметрах импорта выбераю в политике MAC-адреса «Сгенерировать
новые MAC-адреса всех сетевых адаптеров». Нажимаю Импорт ([рис. @fig-004]).

![Импорт конфигурации VirtualBox](image/4.png){#fig-004 width=70%}

Уточняю параметры настройки виртуальной машины GNS3 VM в VirtualBox. Выставляю свои параметры кол-ва ядер процессора, видеопамяти и оперативки. Настраиваю вложенную виртуализацию в VirtualBox. Для этого в терминале основной ОС выполняю команду `vboxmanage modifyvm "GNS3 VM" --nested-hw-virt on` и затем отмечаю опцию «Включить Nested VT-x/AMD-V» ([рис. @fig-005]).

![Настройка виртуальной машины VirtualBox](image/5.png){#fig-005 width=70%}

Настраиваю сетевой адаптер. Перехожу к опции «Сеть» и во вкладке «Адаптер 1» тип подключения должен быть установлен как «Виртуальный адаптер». В этом режиме адаптер хоста использует специальное устройство VirtualBox Host-Only Ethernet Adapter, создается подсеть
и назначаются IP-адреса сетевым картам гостевых операционных систем ([рис. @fig-006]).

![Настройка виртуальной машины VirtualBox](image/6.png){#fig-006 width=70%}

## Запуск экземпляра GNS3 в VirtualBox

Запускаю GNS3 VM в VirtualBox ([рис. @fig-007]).

![GNS3 VM в VirtualBox](image/7.png){#fig-007 width=70%}

Затем в основной ОС запускаю приложение gns3. При первом запуске приложения gns3 запускается мастер настройки, в котором следует выбрать первый способ работы с gns3 — «Run appliance in a virtual machine» (т.е. запуск устройства на виртуальной машине)  ([рис. @fig-008]).

![GNS3 GUI](image/8.png){#fig-008 width=70%}

В следующем окне указываются настройки локального сервера. Путь к серверу и порт оставляю без изменений. Выбаю IP-адрес привязки хоста, находящегося в подсети VirtualBox ([рис. @fig-009]).

![Настройка локального сервера GNS3 GUI](image/9.png){#fig-009 width=70%}

После успешного подсоединения появляется окно с итоговыми настройками ([рис. @fig-010]).

![GNS3 GUI](image/10.png){#fig-010 width=70%}

## Добавление образа маршрутизатора FRR

Предположим, что требуется добавить образ маршрутизатора (FRRouting). В рабочем пространстве GNS3 на левой боковой панели выбераю просмотр маршрутизаторов (Browse Routers), затем нажимаю на + New template ([рис. @fig-011]).

![Добавление образа маршрутизатора FRR](image/11.png){#fig-011 width=70%}

В открывшемся окне указываю рекомендуемое верхнее значение, а именно, устанавливать образ с GNS3-сервера, затем Routers и образ FRR. В следующем окне предлагается перечень файлов для скачивания и последующей установки. Выбираю наиболее актуальную версию и нажимаю Download ([рис. @fig-012]).

![Добавление образа маршрутизатора FRR](image/12.png){#fig-012 width=70%}

После окончания скачивания можно импортировать образ ([рис. @fig-013]).

![Добавление образа маршрутизатора FRR](image/13.png){#fig-013 width=70%}

В рабочем пространстве на левой панели в списке маршрутизаторов появится образ устройства FRR. Далее необходимо настроить образ маршрутизатора. Правой кнопкой мыши щёлкаю  на образе устройства, в меню выбираю Configure template. В открывшемся окне необходимо во вкладке «General settings» в поле «On close» выбрать Send the shutdown signal (ACPI) . Во вкладке «HDD» необходимо поставить галочку «Automatically create a config disk on HDD» ([рис. @fig-014]).

![Настройка образа маршрутизатора FRR](image/14.png){#fig-014 width=70%}

## Добавление образа маршрутизатора VyOS

Аналогичным образом устанавливаю образ маршрутизатора VyOS ([рис. @fig-015]).

![Добавление образа маршрутизатора FRR](image/15.png){#fig-015 width=70%}

Убеждаюсь в успешности установки ([рис. @fig-016]).

![Добавление образа маршрутизатора FRR](image/16.png){#fig-016 width=70%}

Правой кнопкой мыши щёлкаю  на образе устройства, в меню выбираю Configure template. В открывшемся окне необходимо во вкладке «General settings» в поле «On close» выбрать Send the shutdown signal (ACPI) . Во вкладке «HDD» необходимо поставить галочку «Automatically create a config disk on HDD» ([рис. @fig-017]).

![Настройка образа маршрутизатора FRR](image/17.png){#fig-017 width=70%}

# Выводы

В ходе данной лабораторной работы я установил и настроил GNS3 и сопутствующее программное обеспечение.

